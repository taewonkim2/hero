<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï†àÏÑ∏ÌòÑÌô©</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/isa-common.css">
    <style>
        /* ISA Tax Saving ÌéòÏù¥ÏßÄ Ï†ÑÏö© Ïä§ÌÉÄÏùº */

        /* Section Title */
        .section-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title::before {
            content: '‚Ä¢';
            color: var(--primary);
            font-size: 20px;
        }

        /* Tax Effect Table */
        .tax-table {
            background: var(--bg-card);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin-bottom: 24px;
        }

        .table-header {
            display: flex;
            background: var(--bg-primary);
            padding: 12px 16px;
            border-bottom: 1px solid var(--border);
        }

        .table-header-cell {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            text-align: center;
        }

        .table-header-cell:first-child {
            flex: 1;
            text-align: left;
        }

        .table-header-cell:not(:first-child) {
            width: 90px;
        }

        .table-header-cell.isa {
            color: var(--primary);
        }

        /* Table Row */
        .table-row {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            /* border-bottom: 1px solid var(--border); */
            cursor: pointer;
            transition: background 0.2s;
        }

        .table-row:hover {
            background: var(--bg-primary);
        }

        .table-row.no-expand {
            cursor: default;
        }

        .table-row.no-expand:hover {
            background: transparent;
        }

        .row-label {
            flex: 1;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .row-label .toggle-icon {
            font-size: 10px;
            color: var(--text-muted);
            transition: transform 0.3s;
        }

        .row-label .toggle-icon.expanded {
            transform: rotate(180deg);
        }

        .row-value {
            width: 90px;
            text-align: right;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .row-value.isa {
            color: var(--primary);
            font-weight: 500;
        }

        .row-value.negative {
            color: var(--positive);
        }

        .row-value.blue {
            color: var(--negative);
        }

        /* Expandable Content */
        .expand-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: var(--bg-primary);
        }

        .expand-content.expanded {
            max-height: 500px;
        }

        .sub-row {
            display: flex;
            align-items: center;
            padding: 10px 16px 10px 32px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .sub-row:last-child {
            border-bottom: none;
        }

        .sub-label {
            flex: 1;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .sub-label.highlight {
            color: #f59e0b;
        }

        .sub-value {
            width: 90px;
            text-align: right;
            font-size: 12px;
            color: var(--text-muted);
        }

        .sub-value.negative {
            color: #ef4444;
        }

        /* Summary Row */
        .summary-row {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            /* background: var(--bg-primary); */
            /* border-bottom: 1px solid var(--border); */
        }
        .summary-row:last-child {
            border-bottom: 1px solid var(--border);
        }

        /* .summary-row .row-label {
            font-weight: 700;
        }

        .summary-row .row-value {
            font-weight: 700;
        } */

        /* Total Row */
        .total-section {
            /* background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); */
            padding: 16px;
        }

        .total-row {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            /* border-top: 1px solid var(--border);
            margin-top:12px; */
        }

        .total-row .row-label {
            font-weight: 700;
            color: #92400e;
        }

        .total-row .row-value {
            font-weight: 700;
            color: #92400e;
        }

        .savings-highlight {
            background: rgb(254,234,155);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            margin-bottom: 20px;
        }

        .savings-label {
            font-size: 13px;
            color: #92400e;
            margin-bottom: 4px;
        }

        .savings-value {
            font-size: 28px;
            font-weight: 700;
            color: #d97706;
        }

        /* Yearly Chart Section */
        .yearly-section {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .yearly-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .yearly-title::before {
            content: '‚Ä¢';
            color: var(--primary);
            font-size: 20px;
        }

        .chart-container {
            margin-bottom: 20px;
        }

        .bar-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .bar-year {
            width: 70px;
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .bar-track {
            flex: 1;
            height: 28px;
            background: var(--bg-primary);
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #1a73e8 0%, #60a5fa 100%);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            transition: width 0.8s ease-out;
        }

        .bar-value {
            font-size: 12px;
            font-weight: 600;
            color: white;
            white-space: nowrap;
        }

        /* Total Summary */
        .total-summary {
            background: var(--primary-light);
            border-radius: 12px;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-summary-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .total-summary-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <button class="back-btn" onclick="goBack()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
        </button>
        <div class="top-nav-submenu">
            <span class="top-nav-submenu-item" onclick="location.href='isa_balance.html'">ISAÏûîÍ≥†</span>
            <span class="top-nav-submenu-item" onclick="location.href='isa_history.html'">Í±∞ÎûòÎÇ¥Ïó≠</span>
            <span class="top-nav-submenu-item active">Ï†àÏÑ∏ÌòÑÌô©</span>
            <span class="top-nav-submenu-item" onclick="location.href='isa_account_info.html'">Í≥ÑÏ¢åÏ†ïÎ≥¥</span>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Ï†àÏÑ∏Ìö®Í≥º ÏÑπÏÖò -->
        <h2 class="section-title">Ï†àÏÑ∏Ìö®Í≥º</h2>
                <div class="savings-highlight">
                    <div class="savings-label">ISAÎ•º ÌÜµÌïú Ï†àÏÑ∏Í∏àÏï°</div>
                    <div class="savings-value">591,800Ïõê</div>
                </div>
        
        <div class="tax-table">
            <!-- ÌÖåÏù¥Î∏î Ìó§Îçî -->
            <div class="table-header">
                <span class="table-header-cell"></span>
                <span class="table-header-cell">ÏùºÎ∞òÍ≥ÑÏ¢å</span>
                <span class="table-header-cell isa">ISAÍ≥ÑÏ¢å</span>
            </div>

            <!-- Í≥ºÏÑ∏ÏÜåÎìù (ÌéºÏπ®/Ï†ëÌûò) -->
            <div class="table-row" onclick="toggleSection('income')">
                <span class="row-label">
                    Í≥ºÏÑ∏ÏÜåÎìù
                    <span class="toggle-icon" id="toggle-income">‚ñº</span>
                </span>
                <span class="row-value">5,000,000</span>
                <span class="row-value isa">5,000,000</span>
            </div>
            <div class="expand-content" id="content-income">
                <div class="sub-row">
                    <span class="sub-label">Î∞∞ÎãπÏÜåÎìù</span>
                    <span class="sub-value">500,000</span>
                    <span class="sub-value">500,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">Ï£ºÏãùÎ∞∞ÎãπÍ∏à</span>
                    <span class="sub-value">300,000</span>
                    <span class="sub-value">300,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">ETFÎ∂ÑÎ∞∞Í∏à</span>
                    <span class="sub-value">150,000</span>
                    <span class="sub-value">150,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">Î¶¨Ï∏†Î∂ÑÎ∞∞Í∏à</span>
                    <span class="sub-value">50,000</span>
                    <span class="sub-value">50,000</span>
                </div>
                <div class="sub-row">
                    <span class="sub-label">Ïù¥ÏûêÏÜåÎìù</span>
                    <span class="sub-value">200,000</span>
                    <span class="sub-value">200,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">ÏòàÍ∏àÏù¥Ïûê</span>
                    <span class="sub-value">100,000</span>
                    <span class="sub-value">100,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">ÏòàÌÉÅÍ∏àÏù¥Ïö©Î£å</span>
                    <span class="sub-value">50,000</span>
                    <span class="sub-value">50,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">RPÎß§Îß§Ï∞®Ïùµ</span>
                    <span class="sub-value">30,000</span>
                    <span class="sub-value">30,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">Ï±ÑÍ∂åÏù¥Ïûê</span>
                    <span class="sub-value">20,000</span>
                    <span class="sub-value">20,000</span>
                </div>
                <div class="sub-row">
                    <span class="sub-label">Îß§Îß§Ï∞®Ïùµ</span>
                    <span class="sub-value">4,300,000</span>
                    <span class="sub-value">4,300,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">Ìï¥Ïô∏ÌéÄÎìú/ETF</span>
                    <span class="sub-value">2,000,000</span>
                    <span class="sub-value">2,000,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">Ï±ÑÍ∂åÌòïÌéÄÎìú/ETF</span>
                    <span class="sub-value">1,500,000</span>
                    <span class="sub-value">1,500,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">ÌååÏÉùETF</span>
                    <span class="sub-value">500,000</span>
                    <span class="sub-value">500,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">ELS/DLS</span>
                    <span class="sub-value">300,000</span>
                    <span class="sub-value">300,000</span>
                </div>
            </div>

            <!-- ÏÜêÏã§ÏÉÅÍ≥Ñ (ÌéºÏπ®/Ï†ëÌûò) -->
            <div class="table-row" onclick="toggleSection('loss')">
                <span class="row-label" style="color: #ef4444;">
                    (-) ÏÜêÏã§ÏÉÅÍ≥Ñ
                    <span class="toggle-icon" id="toggle-loss">‚ñº</span>
                </span>
                <span class="row-value">-</span>
                <span class="row-value isa negative">-1,200,000</span>
            </div>
            <div class="expand-content" id="content-loss">
                <div class="sub-row">
                    <span class="sub-label">Îß§Îß§Ï∞®Ïùµ</span>
                    <span class="sub-value">-</span>
                    <span class="sub-value negative">-1,200,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">Ìï¥Ïô∏ÌéÄÎìú/ETF</span>
                    <span class="sub-value">-</span>
                    <span class="sub-value negative">-500,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label highlight">Ï±ÑÍ∂åÌòïÌéÄÎìú/ETF</span>
                    <span class="sub-value">-</span>
                    <span class="sub-value negative">-300,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label highlight">ÌååÏÉùETF</span>
                    <span class="sub-value">-</span>
                    <span class="sub-value negative">-200,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">ELS/DLS</span>
                    <span class="sub-value">-</span>
                    <span class="sub-value negative">-100,000</span>
                </div>
                <div class="sub-row" style="padding-left: 48px;">
                    <span class="sub-label">Íµ≠ÎÇ¥Ï£ºÏãùÏÜêÏã§</span>
                    <span class="sub-value">-</span>
                    <span class="sub-value negative">-100,000</span>
                </div>
            </div>

            <!-- ÎπÑÍ≥ºÏÑ∏ -->
            <div class="table-row no-expand">
                <span class="row-label" style="color: #3b82f6;">(-) ÎπÑÍ≥ºÏÑ∏</span>
                <span class="row-value">-</span>
                <span class="row-value blue">-2,000,000</span>
            </div>

            <!-- Í≥ºÏÑ∏ÌëúÏ§Ä -->
            <div class="summary-row">
                <span class="row-label">Í≥ºÏÑ∏ÌëúÏ§Ä</span>
                <span class="row-value" style="font-weight: 700;">5,000,000</span>
                <span class="row-value isa" style="font-weight: 700;">1,800,000</span>
            </div>

            <!-- ÏÑ∏Ïú® -->
            <div class="table-row no-expand" style="border-bottom: 1px solid var(--border);">
                <span class="row-label">(X) ÏÑ∏Ïú®</span>
                <span class="row-value">15.4%</span>
                <span class="row-value isa">9.9%</span>
            </div>

            <!-- Ï¥ù ÏÑ∏Ïï° Î∞è Ï†àÏÑ∏Í∏àÏï° -->
            <div class="total-section">
                <div class="total-row">
                    <span class="row-label">Ï¥ù ÏÑ∏Ïï°</span>
                    <span class="row-value" style="color: #92400e; width: 90px;">770,000Ïõê</span>
                    <span class="row-value" style="color: #d97706; width: 90px; font-weight: 700;">178,200Ïõê</span>
                </div>
                <!-- <div class="savings-highlight">
                    <div class="savings-label">ISAÎ•º ÌÜµÌïú Ï†àÏÑ∏Í∏àÏï°</div>
                    <div class="savings-value">591,800Ïõê</div>
                </div> -->
            </div>
        </div>

        <!-- Ïó∞ÎèÑÎ≥Ñ Ï†àÏÑ∏Í∏àÏï° -->
        <h2 class="yearly-title">Ïó∞ÎèÑÎ≥Ñ Ï†àÏÑ∏Í∏àÏï°</h2>
        <div class="yearly-section">
            <!-- <h2 class="yearly-title">Ïó∞ÎèÑÎ≥Ñ Ï†àÏÑ∏Í∏àÏï°</h2> -->
            
            <div class="chart-container">
                <div class="bar-item">
                    <span class="bar-year">2025ÎÖÑ</span>
                    <div class="bar-track">
                        <div class="bar-fill" style="width: 100%;">
                            <span class="bar-value">1,000,000Ïõê</span>
                        </div>
                    </div>
                </div>
                <div class="bar-item">
                    <span class="bar-year">2024ÎÖÑ</span>
                    <div class="bar-track">
                        <div class="bar-fill" style="width: 80%;">
                            <span class="bar-value">800,000Ïõê</span>
                        </div>
                    </div>
                </div>
                <div class="bar-item">
                    <span class="bar-year">2023ÎÖÑ</span>
                    <div class="bar-track">
                        <div class="bar-fill" style="width: 70%;">
                            <span class="bar-value">700,000Ïõê</span>
                        </div>
                    </div>
                </div>
                <div class="bar-item">
                    <span class="bar-year">2022ÎÖÑ</span>
                    <div class="bar-track">
                        <div class="bar-fill" style="width: 90%;">
                            <span class="bar-value">900,000Ïõê</span>
                        </div>
                    </div>
                </div>
                <div class="bar-item">
                    <span class="bar-year">2021ÎÖÑ</span>
                    <div class="bar-track">
                        <div class="bar-fill" style="width: 99%;">
                            <span class="bar-value">990,000Ïõê</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="total-summary">
                <span class="total-summary-label">ÎàÑÏ†Å Ï†àÏÑ∏Í∏àÏï°</span>
                <span class="total-summary-value">4,390,000Ïõê</span>
            </div>
        </div>
    </main>

    <!-- Bottom Tab Bar -->
    <nav class="bottom-tab-bar">
        <div class="menu-tab" onclick="openMenu()">
            <div class="menu-button-box">
                <div class="hamburger-icon">
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                    <div class="hamburger-line"></div>
                </div>
                <span class="menu-label">Î©îÎâ¥</span>
            </div>
        </div>
        <div class="tab-item" onclick="location.href='isa_home.html'">
            <span class="tab-icon">üè†</span>
            <span class="tab-label">ISAÌôà</span>
        </div>
        <div class="tab-item active">
            <span class="tab-icon">üíº</span>
            <span class="tab-label">ISAÍ≥ÑÏ¢å</span>
        </div>
        <div class="tab-item" onclick="navigateTo('isa_join')">
            <span class="tab-icon">üìù</span>
            <span class="tab-label">ISAÍ∞ÄÏûÖ</span>
        </div>
        <div class="tab-item" onclick="navigateTo('isa_task')">
            <span class="tab-icon">‚öôÔ∏è</span>
            <span class="tab-label">ISAÏóÖÎ¨¥</span>
        </div>
    </nav>

    <script src="js/isa-common.js"></script>
    <script>
        // ISA Tax Saving ÌéòÏù¥ÏßÄ Ï†ÑÏö© Ïä§ÌÅ¨Î¶ΩÌä∏

        function openMenu() {
            openSideMenu();
        }

        function toggleSection(sectionId) {
            const content = document.getElementById(`content-${sectionId}`);
            const toggle = document.getElementById(`toggle-${sectionId}`);
            
            if (content && toggle) {
                content.classList.toggle('expanded');
                toggle.classList.toggle('expanded');
            }
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïï†ÎãàÎ©îÏù¥ÏÖò
        document.addEventListener('DOMContentLoaded', function() {
            // ÎßâÎåÄ Ï∞®Ìä∏ Ïï†ÎãàÎ©îÏù¥ÏÖò
            const bars = document.querySelectorAll('.bar-fill');
            bars.forEach((bar, index) => {
                const width = bar.style.width;
                bar.style.width = '0';
                setTimeout(() => {
                    bar.style.width = width;
                }, 100 + index * 100);
            });
        });
    </script>
</body>
</html>
